<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfil</title>
    <link rel="stylesheet" href="../Geral/Styles/perfil.css">
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a id="link" href="admin_function.html">Home</a></li>
                <li><a id="link" href="" disabled>Perfil</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <div class="container" id="main">
            <h1>Perfil</h1>
            <fieldset id="name">
                <legend>Nome: </legend>
                <input type="text" name="nome" id="nome" value="">
            </fieldset>
            <fieldset id="_cpf">
                <legend>CPF: </legend>
                <input type="number" name="cpf" id="cpf" value="">
            </fieldset>
            <fieldset id="nascimento">
                <legend>Data de nascimento: </legend>
                <input type="date" name="nasc" id="nasc" value="">
            </fieldset>
            <fieldset id="password">
                <legend>Senha: </legend>
                <div class="xx">
                    <input type="password" name="senha" id="senha" placeholder="Senha atual">
                    <button type="button" id="mostrar" onclick="mostrarSenha()">
                        <img src="../Geral/Imagens/eye-solid.png" id="botaosenha" style="width: 20px; height: 15px;">
                    </button>
                </div>

                <a id="alterar" href="" onclick="alterar()">Alterar senha</a>
            </fieldset>
    
            <input type="button" value="Salvar" id="enviar" onclick="enviar()">
            <div class="error"><p id="error"></p></div>
        </div>
    </main>

    <script src="../Geral/Scripts/script.js"></script>
    
    <script>
        document.getElementById("nome").value = "Nome do Admin";
        document.getElementById("cpf").value = "11111111111";
        document.getElementById("nasc").value = "2012-12-12";

        function alterar(){
            var alterar = document.getElementById("alterar");

            localStorage.setItem("qm_chamou", "admin");
            alterar.href = "../Geral/HTML/alterar_senha.html";
        }

        function enviar(){
            var inputs = document.querySelectorAll("input");
            var cpf = document.getElementById("cpf").value;

            if(isvalid(cpf) === false){
                document.getElementById("error").textContent = "Digite um CPF v√°lido!";
                return;
            }

            for (var i = 0; i < inputs.length; i++) {
                if(inputs[i].value === ""){
                    document.getElementById("error").textContent = "Preencha todos os campos!";
                    return;
                }
            }

            alert("Falta implementar o back para saber se a senha atual e igual a do DB");
            alert("Dados alterados com sucesso!")
            window.location.href = "admin_function.html";
        }
    </script>
</body>
</html>